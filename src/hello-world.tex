% SPDX-License-Identifier: CC-BY-NC-SA-4.0
%
% hello-world.tex -- the timeless classic
% Copyright (C) 2022  Jacob Koziej <jacobkoziej@gmail.com>

\chapter{Hello World!}

Let's write a timeless classic in C.  Fire up your editor of choice and
type the following into \texttt{hello-world.c}:

\inputlicenselessminted{c}{hello-world.d/hello-world.c}

\noindent
Let's compile the program:
\commandOutput{hello-world.d/hello-world.output}
\noindent
And let's run it:
\commandOutput{hello-world.d/run-hello-world.output}
\noindent
Awesome!  We just wrote our first C program!  Thatâ€™s great, but what the
hell does any of this mean?

\section{What the Hell Does Any of This Mean?}

There's no point in beating around the bush; the only way we're going to
understand any of this is by breaking it down, line by line!

\inputlinesminted{c}{hello-world.d/hello-world.c}{1}{1}

\noindent
Our first line concerns us with a \vocab{C preprocessor directive}.
These directives are picked up by the \vocab{preprocessor} and modify
the contents of our source code before handing it off to the compiler.
In our case, we're asking for the preprocessor to include the contents
of the \mintinline{c}{stdio.h} \vocab{header} in our source code.  We'll
cover where the preprocessor finds these files in a later section when
we cover the compilation process, but for now, all you need to know is
that by including a file, we gain access to library functions.

\inputlinesminted{c}{hello-world.d/hello-world.c}{4}{4}

\noindent
Here we have the beginning of a \vocab{function definition}.  Simmilar
to how we may define a word with a sequence of other words, we can
define a function as a sequence of operations and other functions.
Unlike the definition of words, the compiler needs some help
understanding where our new function fits into the world; this comes in
the form of an optional \vocab{return type} and an optional list of
\vocab{parameters}. In our case, we intend to return an \mintinline%
{c}{int} and denote no parameters with \mintinline{c}{void}.  What's
also important to note here is that \mintinline{c}{main()} is a special
function as it serves as our program's \vocab{entry point}.

\inputlinesminted{c}{hello-world.d/hello-world.c}{5}{5}

\noindent
Although we've told the compiler our intentions for a function
definition, we must now somehow delineate the start of the
\vocab{function body}.  In C, we do this with a left curly brace.

\inputlinesminted{c}{hello-world.d/hello-world.c}{6}{6}

\noindent
Here is our first \vocab{function call}.  In C, we call functions by
writing their \vocab{identifier} and appending a set of parenthesis with
the required \vocab{arguments}.  Although not shown here, we can also
store the returned value of non-\mintinline{c}{void} function calls.

For our call to \mintinline{c}{printf()}, we've provided the \vocab{%
string literal} argument, \mintinline{c}{"Hello World!\n"}.  What's
important to notice here is the \mintinline{c}{'\n'} at the end of the
string.  We call this an \vocab{escape sequence}, as it allows us to
easily type special characters such as newline.

\inputlinesminted{c}{hello-world.d/hello-world.c}{8}{8}

\noindent
Before we finish our function, we must specify a return value.  What's
special about \mintinline{c}{main()} is that the value we return here is
interpreted as our program's \vocab{exit code} by the operating system.
By convention, a value of zero is considered a sucessful execution of a
program.  Conversely, any non-zero exit code is an error.  Often times,
programs return different non-zero values here to signify different
types of unrecoverable errors.

\inputlinesminted{c}{hello-world.d/hello-world.c}{9}{9}

\noindent
Now that we're all done, we need to close the body of our function with
a right curly brace.

\subsection{Safe at Last!?}

I don't know about you, but I don't think that was half bad. \emph{%
Sure}, I may have thrown a lot of new terms at you, and you may have
more questions than when we started, but look at the bright side: you're
soon going to forget that you don't understand.

Unfortunately for us, we're dealing with a circular dependency, and very
little is going to make sense until we get through at least a complete
cycle.  Buckle up and get ready to be overwhelmed---we're about to go off
the deep end!
